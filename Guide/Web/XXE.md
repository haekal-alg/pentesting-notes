[XML](https://portswigger.net/web-security/xxe/xml-entities) external entity injection (XXE) allows an attacker to interfere with an application's **processing of XML data**. It often allows an attacker to **view files** on the application server filesystem, and to interact with any back-end or external systems that the application itself can access.

**Entities**: ways of representing data per XML specifications, e.g `&lt;` represents `<`.
- **Custom entities**: e.g: defines `&myentity;` as `my entity value`.
	```
	<!DOCTYPE foo [ <!ENTITY myentity "my entity value" > ]>
	```
- **External entities**: `custom entities` that are located outside of DTD. uses the `SYSTEM` keyword and must specify a URL from which the value of the entity should be loaded. Examples:
	Loads value from URL:
	```
	<!DOCTYPE foo [ <!ENTITY ext SYSTEM "http://normal-website.com" > ]>
	```
	Loads values from file, call with `&xxe;`:
	```
	<!DOCTYPE foo [ <!ENTITY xxe SYSTEM "file:///etc/passwd"> ]>
	```
	```xml
	<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE foo [ <!ENTITY xxe SYSTEM "file:///etc/passwd"> ]>
	<stockCheck>
	    <productId>&xxe;</productId>
	</stockCheck>
	```
	
**DTD** (Document Type Definition):
- like variables -> can store values. 
- defines data structures, data types and other items. 
- declared within the optional `DOCTYPE` element at the start of the XML document.
- can be fully self-contained within the document itself (known as an "internal DTD") or can be loaded from elsewhere (known as an "external DTD") or can be hybrid of the two.


## Resources
1. [XML external entity (XXE) injection](https://portswigger.net/web-security/xxe)